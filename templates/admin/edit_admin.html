{% extends "admin/base.html" %}
{% block content %}
<div class="container mx-auto px-4 py-8 max-w-2xl">
  <h1 class="text-2xl font-bold mb-6">
    {% if is_new %}Create New Admin{% else %}Edit Admin{% endif %}
  </h1>
  
  <form method="POST" class="bg-white rounded-lg shadow-md p-6 space-y-6">
    <div>
      <label for="username" class="block font-medium mb-2">Username</label>
      <input type="text" id="username" name="username" value="{{ form.username.data or '' }}" required 
             class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sea">
    </div>
    
    <div>
      <label for="email" class="block font-medium mb-2">Email</label>
      <input type="email" id="email" name="email" value="{{ form.email.data or '' }}" required 
             class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sea">
    </div>
    
    <div>
      <label for="password" class="block font-medium mb-2">
        {% if is_new %}Password{% else %}New Password (leave blank to keep current){% endif %}
      </label>
      <input type="password" id="password" name="password" {% if is_new %}required{% endif %}
             class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sea">
    </div>
    
    {% if not is_new %}
    <div>
      <label for="confirm_password" class="block font-medium mb-2">Confirm Password</label>
      <input type="password" id="confirm_password" name="confirm_password"
             class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sea">
    </div>
    {% endif %}
    
    <div>
      <label for="role" class="block font-medium mb-2">Role</label>
      <select id="role" name="role" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sea">
        <option value="master" {% if form.role.data == 'master' %}selected{% endif %}>Master</option>
        <option value="manager" {% if form.role.data == 'manager' %}selected{% endif %}>Manager</option>
        <option value="viewer" {% if form.role.data == 'viewer' %}selected{% endif %}>Viewer</option>
      </select>
    </div>
    
    <div>
      <label class="flex items-center">
        <input type="checkbox" name="is_active" class="text-sea focus:ring-sea" 
               {% if form.is_active.data %}checked{% endif %}>
        <span class="ml-2">Active Account</span>
      </label>
    </div>
    
    <div class="pt-4">
      <button type="submit" class="bg-sea text-white px-6 py-3 rounded-lg font-bold">
        {% if is_new %}Create Admin{% else %}Update Admin{% endif %}
      </button>
      <a href="{{ url_for('manage_admins') }}" class="ml-4 text-gray-600 hover:underline">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}